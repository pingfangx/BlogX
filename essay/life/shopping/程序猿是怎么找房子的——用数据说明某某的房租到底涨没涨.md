# 用数据说明某某的房租到底涨没涨
最近的某某房租问题，笔者身有体会。  
身边的房租从 2190 涨到 2790，隔壁从 2990 涨到 3730。  
正好半年前笔者找房的时候，保存了一份房源数据，可以与现在的房源分析一波。

项目地址 [https://github.com/pingfangx/ziroom_spider](https://github.com/pingfangx/ziroom_spider) 

# ziroom_spider
基于 [yrjyrj123/ziRoom](https://github.com/yrjyrj123/ziRoom) 修改，感谢。

自如爬虫，按区域抓取自如房源，并使用百度地图可视化。

# 0x01 找房获取数据
运行后展示

    请选择操作
    0-退出
    1-爬取
    2-启动 web 服务并打开浏览器
    3-打开浏览器
    4-分析均价
    5-比较价格

## 1.1 爬取  
64 线程，可在 60s 内可爬取 1w 处房源。

## 1.2 查看
    http://localhost:2233
    支持参数过滤
    min_area 最小面积
    max_price 最大价格
    facing 朝向
    如
    http://localhost:2233?min_area=20&max_price=3000&facing=南


# 0x02 分析数据
* 以下数据为地图找房的爬取数据（基于 yrjyrj123 的开源代码修改，感谢）
* 即不保证数据的完整性（租出去的爬取不到）
* 也不保证数据的正确性（字段不知取错没）
* 更不保证算法的正确性（大神可以帮忙 review 下）
* 请阅后即忘（笔者不负任何责任）
* 禁止任何形式的转载引用（请问各位免责声明怎么写）
 
## 2.1 分析数据输出

    分析均价 rooms\all_rooms-2018-02-27-115445.zip
    爬取日期 2018-02-27
    共 12585 处房源
    合租有效房源 7782,均价 2642.39,均面积 13.70
    整租有效房源 2923,均价 6232.95,均面积 13.34

    分析均价 rooms\all_rooms-2018-08-21-103518.zip
    爬取日期 2018-08-21
    共 8679 处房源
    合租有效房源 5367,均价 2842.52,均面积 12.54
    整租有效房源 2140,均价 6737.25,均面积 12.63

    合租平均上涨 200.13
    整租平均上涨 504.30
    
    
    比较价格 2018-02-27 → 2018-08-21
    分析合租
    共有 140 处房源相同,其中上涨 53 处,下降 39 处,持平 48 处
    在全部 140 处房源中,平均涨价 56.14,
    在 53 处上涨的房源中,平均涨价 272.64,最高上涨 1240.00,当前价 4330,围观地址为 http://www.ziroom.com/z/vr/60962609.html

    分析整租
    共有 39 处房源相同,其中上涨 9 处,下降 12 处,持平 18 处
    在全部 39 处房源中,平均涨价 -10.00,
    在 9 处上涨的房源中,平均涨价 432.22,最高上涨 870.00,当前价 9260,围观地址为 http://www.ziroom.com/z/vr/60347510.html

## 2.2 随便得出的不准确结论    
* 一般能爬取到的房源 1w 处，不知道 8w 会怎么出来
* 可以看到整体环比来看面积减小了，房租却涨了，合租涨了 200，整租涨了 500  
* 均面积是真的小，我已经过滤了面积为 0 的不合法数据，还是这么小。
* 对于相同 id 的旧房源而言，有部分降价的（传说中的火房急出手？）导致结果与总体趋式不一致。

# 0x03 示例
## 在线查看
[https://pingfangx.github.io/ziroom](https://pingfangx.github.io/ziroom)
## 截图
![爬取](https://github.com/pingfangx/ziroom_spider/blob/master/screenshot/screenshot01.png?raw=true)
![展示](https://github.com/pingfangx/ziroom_spider/blob/master/screenshot/screenshot02.png?raw=true)