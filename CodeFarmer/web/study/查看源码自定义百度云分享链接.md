之前的一些方法都失败了，于是自己学习下。

根据按钮查找点击事件
    
    
    https://pan.baidu.com/box-static/function-widget-1/pkg/async-all_7c8b144.js:formatted

            a(".dialog-share .create").click(function() {
                "public" === e.container.find('.share-method-line input[type="radio"]:checked').val() ? (e.status = s.STATUS_CREATE_PULICE,
                e.createShareLink(function() {
                    e.container.find(".create-link").attr("class", "create-link public-link has-create"),
                    a(".dialog-share .create").hide(),
                    a(".dialog-share .close .text").text("关闭"),
                    a("#copyShare").next(".copy-tips").hide(),
                    a(".share-validity-tip").css("right", "115px"),
                    a(".open-share-warning").hide(),
                    n().log.send({
                        name: "create_public_success",
                        value: "创建公开链接成功",
                        sendServerLog: !0
                    })
                }),
                n().log.send({
                    name: "create_public",
                    value: "创建公开链接",
                    sendServerLog: !0
                })) : (e.status = s.STATUS_CREATE_PRIVATE,
                e.createShareLink(function() {
                    e.container.find(".create-link").attr("class", "create-link private-link has-create"),
                    a(".dialog-share .create").hide(),
                    a(".dialog-share .close .text").text("关闭"),
                    a("#copyShare").next(".copy-tips").hide(),
                    a(".share-validity-tip").css("right", "150px"),
                    a(".open-share-warning").hide(),
                    n().log.send({
                        name: "create_private_success",
                        value: "创建私密链接成功",
                        sendServerLog: !0
                    })
                }),
                n().log.send({
                    name: "create_private",
                    value: "创建私密链接",
                    sendServerLog: !0
                }))
            }),

    createShareLink
    
        createShareLink: function(e) {
            if ("[object Array]" !== Object.prototype.toString.call(this.fileslist))
                return void (disk.DEBUG && console.log("[WARN] the list is not array type , can not create share."));
            if (this.disabledShare)
                return this.onNeedTips(n().errorMsg(this.shareError)),
                !1;
            n().ui.tip({
                mode: "loading",
                msg: "正在创建分享链接，请稍候",
                autoClose: !1
            }),
            this.container.find(".share-validity-tip").text(this.validity && this.validity > 0 ? "链接" + this.validity + "天后失效" : "链接永久有效");
            var i = {
                schannel: 0,
                channel_list: "[]",
                period: this.validity
            };
            this.status === s.STATUS_CREATE_PRIVATE ? this.createPrivateShareLink(i, e) : this.createPublicShareLink(i, e)
        },
        
    createPrivateShareLink
    
        createPrivateShareLink: function(e, i) {
            var t = this
              , o = t.makePrivatePassword();
            if (a(".share-password", t.container).val(o),
            e.schannel = 4,
            e.pwd = o,
            e.fid_list = [],
            a.each(this.fileslist, function(i, t) {
                null !== t.fs_id && "undefined" != typeof t.fs_id && e.fid_list.push(t.fs_id)
            }),
            e.fid_list.length <= 0) {
                var r = "分享的文件不存在，请刷新页面重试";
                return this.onNeedTips(r),
                this.status = s.STATUS_INITIALIZE,
                n().ui.hideTip(),
                !1
            }
            e.fid_list = a.stringify(e.fid_list),
            a.post("/share/set?channel=chunlei&clienttype=0&web=1", e, function(s) {
                t.createCallBack(s, i, e.pwd)
            }).error(function() {
                t.onNeedTips("请求发生错误，请稍后再试")
            })
        },
        
    makePrivatePassword
    
        makePrivatePassword: function() {
            var e = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "m", "n", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
              , i = function(e, i) {
                return Math.round((i - e) * Math.random() + e)
            }
              , t = function(t) {
                for (var s = [], a = 1; t >= a; a++)
                    s.push(e[i(0, e.length - 1)]);
                return s.join("")
            };
            return t(4)
        },
        
    可以看到，是随机生成的。
    
    查看原来的教程
    javascript:require(["function-widget-1:share/util/service/createLinkShare.js"]).prototype.makePrivatePassword=function(){return prompt("请输入自定义的密码","1234")}
    
    于是查看 makePrivatePassword 所属范围的定义
    ;define("function-widget-1:share/util/shareFriend/createLinkShare.js", function(e, i, t) {
    
    
    于是修改为
    
    javascript:require(["function-widget-1:share/util/shareFriend/createLinkShare.js"]).prototype.makePrivatePassword=function(){return prompt("请输入自定义的密码","2222")}
    
    
    所以并没有多少改动，只是 require 名改了而已。
    