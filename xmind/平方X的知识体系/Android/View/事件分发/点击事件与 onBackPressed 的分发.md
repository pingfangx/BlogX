[Android应用程序键盘（Keyboard）消息处理机制分析 - 老罗的Android之旅 - CSDN博客](https://blog.csdn.net/Luoshengyang/article/details/6882903)

S:
* 与触摸事件一样， dispatchKeyEvent 分发到 DecorView 之后，通过 Window.Callback 回调到 Activity 的 dispatchKeyEvent
* 然后调用 onKeyUp、 onBackPressed
# 栈
    onBackPressed:3104, Activity (android.app)
    access$001:50, ComponentActivity (androidx.activity)
    run:72, ComponentActivity$1 (androidx.activity)
    onBackPressed:194, OnBackPressedDispatcher (androidx.activity)
    onBackPressed:284, ComponentActivity (androidx.activity)
    onKeyUp:3082, Activity (android.app)
    dispatch:2716, KeyEvent (android.view)
    dispatchKeyEvent:3365, Activity (android.app)
    superDispatchKeyEvent:80, ComponentActivity (androidx.core.app)
    dispatchKeyEvent:84, KeyEventDispatcher (androidx.core.view)
    dispatchKeyEvent:98, ComponentActivity (androidx.core.app)
    dispatchKeyEvent:558, AppCompatActivity (androidx.appcompat.app)
    dispatchKeyEvent:59, WindowCallbackWrapper (androidx.appcompat.view)
    dispatchKeyEvent:2764, AppCompatDelegateImpl$AppCompatWindowCallback (androidx.appcompat.app)
    dispatchKeyEvent:342, DecorView (com.android.internal.policy)
    processKeyEvent:5037, ViewRootImpl$ViewPostImeInputStage (android.view)
    onProcess:4905, ViewRootImpl$ViewPostImeInputStage (android.view)
    deliver:4426, ViewRootImpl$InputStage (android.view)
    onDeliverToNext:4479, ViewRootImpl$InputStage (android.view)
    forward:4445, ViewRootImpl$InputStage (android.view)
    forward:4585, ViewRootImpl$AsyncInputStage (android.view)
    apply:4453, ViewRootImpl$InputStage (android.view)
    apply:4642, ViewRootImpl$AsyncInputStage (android.view)
    deliver:4426, ViewRootImpl$InputStage (android.view)
    onDeliverToNext:4479, ViewRootImpl$InputStage (android.view)
    forward:4445, ViewRootImpl$InputStage (android.view)
    apply:4453, ViewRootImpl$InputStage (android.view)
    deliver:4426, ViewRootImpl$InputStage (android.view)
    onDeliverToNext:4479, ViewRootImpl$InputStage (android.view)
    forward:4445, ViewRootImpl$InputStage (android.view)
    forward:4618, ViewRootImpl$AsyncInputStage (android.view)
    onFinishedInputEvent:4779, ViewRootImpl$ImeInputStage (android.view)
    run:2571, InputMethodManager$PendingEvent (android.view.inputmethod)
    invokeFinishedInputEventCallback:2081, InputMethodManager (android.view.inputmethod)
    finishedInputEvent:2072, InputMethodManager (android.view.inputmethod)
    onInputEventFinished:2548, InputMethodManager$ImeInputEventSender (android.view.inputmethod)
    dispatchInputEventFinished:141, InputEventSender (android.view)
    nativePollOnce:-1, MessageQueue (android.os)
    next:326, MessageQueue (android.os)
    loop:160, Looper (android.os)
    main:6669, ActivityThread (android.app)
    invoke:-1, Method (java.lang.reflect)
    run:493, RuntimeInit$MethodAndArgsCaller (com.android.internal.os)
    main:858, ZygoteInit (com.android.internal.os)
