# 1 [平衡二叉树](https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91)
左 < 根 < 右  
详见二叉树的种类中的介绍
1. 若任意结点的左子树不空，则左子树上所有结点的值均小于它的根结点的值；
0. 若任意结点的右子树不空，则右子树上所有结点的值均大于它的根结点的值；
0. 任意结点的左、右子树也分别为二叉查找树；
0. 没有键值相等的结点。
0. 叶结点高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。

# 2 [树旋转](https://zh.wikipedia.org/wiki/%E6%A0%91%E6%97%8B%E8%BD%AC)
> 树的旋转方向有很多不同的定义，有些定义彼此之间还存在冲突。有些人认为旋转方向应该反映结点的移动方向（左孩子旋转到父结点的位置为右旋），有些人则认为旋转方向应该反映被旋转的子树是哪棵（左子树旋转到父结点的位置为左旋，与前一种说法相反）。这篇维基文章采用前者的定义：旋转方向为结点的移动方向。

左孩子 > 父结点
右旋

右孩子 > 父结点
左旋

# 3 AVL 树插入结点时的旋转
左左 ： 右旋  
右右 ： 左旋

左右 ： 左旋变成左左，再右旋  
右左 ： 右旋变成右右，再左旋

[AVL Tree | Set 1 (Insertion)](https://www.geeksforgeeks.org/avl-tree-set-1-insertion/)

T1, T2, T3 and T4 are subtrees.
## 左左    
             z                                      y 
            / \                                   /   \
           y   T4      Right Rotate (z)          x      z
          / \          - - - - - - - - ->      /  \    /  \ 
         x   T3                               T1  T2  T3  T4
        / \
      T1   T2
## 右右
      z                                y
     /  \                            /   \ 
    T1   y     Left Rotate(z)       z      x
        /  \   - - - - - - - ->    / \    / \
       T2   x                     T1  T2 T3  T4
           / \
         T3  T4
## 左右
         z                               z                           x
        / \                            /   \                        /  \ 
       y   T4  Left Rotate (y)        x    T4  Right Rotate(z)    y      z
      / \      - - - - - - - - ->    /  \      - - - - - - - ->  / \    / \
    T1   x                          y    T3                    T1  T2 T3  T4
        / \                        / \
      T2   T3                    T1   T2
## 右左
       z                            z                            x
      / \                          / \                          /  \ 
    T1   y   Right Rotate (y)    T1   x      Left Rotate(z)   z      y
        / \  - - - - - - - - ->     /  \   - - - - - - - ->  / \    / \
       x   T4                      T2   y                  T1  T2  T3  T4
      / \                              /  \
    T2   T3                           T3   T4
# 4 平衡因子的修正
这是数据结构书中的介绍,比较复杂.
实际 [AVL Tree | Set 1 (Insertion)](https://www.geeksforgeeks.org/avl-tree-set-1-insertion/)
中的方法更好理解.

    插入左边
        ① 未长高，无需变化
        长高，判断根结点平衡因子
            ② 0 等高，记平衡因子1
            ③ -1右边高，记为等高
            1 左边高，判断左子树
                ④ 1 左左，右旋
                -1 插在右子树
                    ⑤ 0
                    ⑥ 1
                    ⑦ -1
                    
    插在右边
        ①未长高，无需变化
        长高，判断根结点平衡因子
            ② 0 等高，记平衡因子 -1
            ③ 1 左边高，记为等高
            -1 右边高，判断右子树
                ④ -1 右右，左肇、旋
                1 插在左子树
                    ⑤ 0
                    ⑥ 1
                    ⑦ -1